# 统一思维模式管理器使用指南

## 概述

xtool MCP Server 现在配备了统一的思维模式管理器，提供18种专业思维模式，覆盖软件开发全生命周期的各个阶段。

## 核心特性

### 1. 枚举化管理
- **18种思维模式**：从苏格拉底提问法到工匠精神
- **11个开发阶段**：从需求分析到运维监控
- **10种问题类型**：从bug修复到文档编写
- **特殊模式**：AUTO（自动选择）和 DEFAULT（默认组合）

### 2. 智能推荐系统
- 基于开发阶段推荐
- 基于问题类型推荐
- 基于关键词匹配
- 自动选择最佳组合

## 使用示例

### 示例1：测试场景
```
用户："我需要全面测试这个新功能"

系统推荐：
- 工具：mcp__zen__debug
- 思维模式：
  1. 钻研精神 - 深入探究，不满足于表面理解
  2. 工匠精神 - 追求卓越，注重细节
  3. MECE原则 - 确保测试覆盖完整且不重叠
  4. 风险驱动思维 - 优先测试高风险场景
```

### 示例2：调试场景
```
用户："调试一个复杂的性能问题"

系统推荐：
- 工具：mcp__zen__debug, mcp__zen__analyze
- 思维模式：
  1. 钻研精神 - 深挖问题根源
  2. 工匠精神 - 注重细节，持续改进
  3. 第一性原理 - 回归本质，从基础分析
  4. 系统思维 - 考虑组件间相互影响
```

### 示例3：架构设计
```
用户："设计一个新的微服务架构"

系统推荐：
- 工具：mcp__zen__planner
- 思维模式：
  1. 系统思维 - 整体架构视角
  2. 第一性原理 - 从业务本质出发
  3. 权衡思维 - 平衡各种架构属性
  4. 演进思维 - 考虑未来扩展性
```

## 思维模式详解

### 基础思维方法（6种）

1. **苏格拉底提问法**
   - 核心：通过连续追问深入本质
   - 适用：需求分析、测试验证、问题诊断

2. **MECE原则**
   - 核心：相互独立，完全穷尽
   - 适用：需求分解、功能分解、测试设计

3. **第一性原理**
   - 核心：回归问题本质
   - 适用：架构设计、技术选型、创新方案

4. **系统思维**
   - 核心：整体大于部分之和
   - 适用：架构设计、项目管理、性能优化

5. **奥卡姆剃刀原则**
   - 核心：最简单的解释往往是正确的
   - 适用：方案选择、代码设计、架构决策

6. **笛卡尔方法论**
   - 核心：分解复杂问题为简单问题
   - 适用：系统分析、功能拆解、需求分解

### 专业思维方法（12种）

7. **工匠精神** ⭐
   - 核心：追求卓越，精益求精
   - 适用：代码优化、测试验证、调试排错

8. **钻研精神** ⭐
   - 核心：深入探究，不满足于表面
   - 适用：性能问题、复杂bug、测试验证

9. **契约式设计思维**
   - 核心：明确定义接口契约
   - 适用：接口设计、API设计、模块集成

10. **防御式编程思维**
    - 核心：假设一切都可能出错
    - 适用：安全编程、异常处理、系统集成

11. **用户旅程思维**
    - 核心：从用户视角设计体验
    - 适用：功能设计、UI/UX、需求分析

12. **原子化思维**
    - 核心：单一职责原则
    - 适用：功能分解、微服务设计、单元测试

13. **风险驱动思维**
    - 核心：优先处理高风险项
    - 适用：项目管理、测试策略、安全设计

14. **数据驱动思维**
    - 核心：基于数据做决策
    - 适用：性能优化、用户体验、质量改进

15. **生命周期思维**
    - 核心：考虑完整生命周期
    - 适用：文档管理、数据管理、系统设计

16. **权衡思维**
    - 核心：在多目标间寻找平衡
    - 适用：架构设计、技术选型、资源分配

17. **演进思维**
    - 核心：系统是逐步演进的
    - 适用：架构设计、产品规划、重构策略

18. **场景化思维**
    - 核心：通过具体场景验证
    - 适用：需求分析、测试设计、功能验证

## API 使用

### Python 代码示例

```python
from utils.thinking_mode_manager import (
    get_thinking_mode_manager,
    DevelopmentStage,
    ProblemType
)

# 获取管理器实例
manager = get_thinking_mode_manager()

# 场景1：基于开发阶段推荐
modes = manager.get_modes_for_stage(
    DevelopmentStage.TEST_VERIFICATION, 
    priority="primary"
)

# 场景2：基于问题类型推荐
modes = manager.get_modes_for_problem(ProblemType.BUG_FIX)

# 场景3：自动选择
context = {
    "query": "调试复杂的性能问题",
    "stage": DevelopmentStage.DEBUG_TROUBLESHOOT,
    "problem_type": ProblemType.PERFORMANCE_OPTIMIZATION
}
modes = manager.auto_select_modes(context)

# 场景4：获取默认模式
default_modes = manager.get_default_modes()
```

## 最佳实践

### 1. 测试和调试必备
- **工匠精神**：确保代码质量，追求完美
- **钻研精神**：深入理解问题本质

### 2. 架构设计组合
- **系统思维**：整体架构视角
- **第一性原理**：从业务本质出发
- **权衡思维**：平衡各种质量属性

### 3. 问题诊断套装
- **钻研精神**：深挖问题根源
- **系统思维**：理解相互影响
- **数据驱动**：基于证据分析

## 配置和扩展

### 环境变量
```bash
# 调整默认思维模式深度
export DEFAULT_THINKING_MODE="high"

# 启用/禁用特定思维模式（未来功能）
export ENABLED_THINKING_MODES="craftsman_spirit,research_mindset,first_principles"
```

### 扩展思维模式
1. 编辑 `/utils/thinking_mode_manager.py`
2. 在 `_initialize_thinking_modes` 方法中添加新模式
3. 更新相关映射关系

## 注意事项

1. **自动降级**：如果管理器加载失败，系统会降级到基础的5种思维模式
2. **性能考虑**：思维模式推荐是轻量级操作，不会影响性能
3. **持续优化**：系统会根据使用反馈不断优化推荐算法

## 总结

统一思维模式管理器让 xtool MCP Server 能够：
- 🎯 为每个场景推荐最合适的思维方法
- 🔄 确保关键场景（测试、调试）始终包含必要的思维模式
- 📊 提供结构化的思维框架，提升问题解决效率
- 🚀 支持扩展和定制，适应不同团队需求

现在，每当您使用 Xtool 工具时，系统都会智能推荐最适合的思维模式组合，帮助您更高效地解决问题！